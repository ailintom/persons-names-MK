# Schema documentation

Generated by MySQL Workbench Model Documentation v1.0.0 - Copyright (c) 2015 Hieu Le

[TOC]

## Table: `publications`

### Description: 

__table_id: 2__  
Each record in this table describes a printed or online publication (a bibliographic entry). Here belongs everything published that can be cited using the author-year system.   
*Equivalent class: <http://www.cidoc-crm.org/cidoc-crm/E31_document>*  
*Note:* On the back end, CSL-JSON bibliographical descriptions are converted into HTML bibliographical entries using [citeproc-node](https://github.com/zotero/citeproc-node). When the data are converted to a machine-readable format, CSL-JSON entries can be converted to [BIBO, also known as Bibliontology](http://bibliographic-ontology.org/specification) RDF, using [Zotero translation server](https://github.com/zotero/translation-server).

### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `publications_id` | INT | PRIMARY, Not null |   | Unique record ID |
| `date_created` | DATE |  | `NULL` | Date when the record was created in the published version of the database |
| `date_changed` | DATE |  | `NULL` | Date when the last change to the record was published |
| `csl_json` | VARCHAR(4000) |  | `NULL` | Bibliographical data in the [CSL-JSON](https://github.com/citation-style-language/schema/blob/master/csl-data.json) format |
| `author_year` | VARCHAR(255) |  | `NULL` | The author-year handle for referring |
| `html_entry` | VARCHAR(4000) |  | `NULL` | Precomposed bibliographical entry in the Chicago Manual of Style format (HTML) |
| `oeb_id` | VARCHAR(4000) |  | `NULL` | The ID of the corresponding record in the [Online Egyptological Bibliography](http://oeb.griffith.ox.ac.uk/) (not available for all records) |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `publications_id` | PRIMARY |   |


## Table: `thesauri`

### Description: 

__table_id: 0__  
This is a supporting table containing keys and values of self-developed and third-party thesauri used in the database.

### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `thesauri_id` | INT(11) | PRIMARY, Not null |   | Unique record ID |
| `date_created` | DATE |  | `NULL` | Date when the record was created in the published version of the database |
| `date_changed` | DATE |  | `NULL` | Date when the last change to the record was published |
| `thesaurus` | INT(11) |  | `NULL` | The handle of the thesaurus to which this record belongs. Under thesaurus=0 all thesauri represented in this table are listed with the keys to the thesaurus field stored in sort_value. |
| `parent` | INT(11) |  | `NULL` | The thesauri_id of the superordinate thesaurus entry |
| `sort_value` | INT(11) |  | `NULL` | The value used for sorting entries within a thesaurus |
| `item_name` | VARCHAR(255) |  | `NULL` |   |
| `external_key` | VARCHAR(255) |  | `NULL` | The key of the corresponding thesaurus entry in a standard external thesaurus (such as the THOT project) |
| `explanation` | VARCHAR(4000) |  | `NULL` | The meaning of the thesaurus entry |
| `sort_date_range_start` | INT(11) |  | `NULL` | The start of the date range for the entries in the dating thesaurus (thesaurus 5) (a negative integer value corresponding to a year BC, used for sorting purposes) |
| `sort_date_range_end` | INT(11) |  | `NULL` | The end of the date range for the entries in the dating thesaurus (thesaurus 5) (a negative integer value corresponding to a year BC, used for sorting purposes) |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `thesauri_id` | PRIMARY |   |


## Table: `biblio_refs`

### Description: 

__table_id: 7__  
Each record in this table describes a reference from a publication (if the `source_id` field is not empty), a webpage (if the `source_url` field is not empty), or an offline source that cannot be cited using the author-date system to an entity (an inscribed object, a person's dossier, 
a workshop, an archaeological find group, a personal name, a title, or a criterion).   
*Equivalent property: <http://www.cidoc-crm.org/cidoc-crm/P70i_is_documented_in>*  

### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `biblio_refs_id` | INT | PRIMARY, Not null |   | Unique record ID |
| `date_created` | DATE |  |   | Date when the record was created in the published version of the database |
| `date_changed` | DATE |  |   | Date when the last change to the record was published |
| `reference_type` | CHAR(20) |  |   | The type of the reference |
| `source_id` | INT |  |   | The ID of the referring publication in the table `publications`<br /><br />**foreign key** to column `publications_id` on table `publications`. |
| `source_url` | VARCHAR(4000) |  |   | URL for online sources that cannot be cited using the author-year system |
| `source_title` | VARCHAR(4000) |  |   | Reference to an offline source that cannot be cited using the author-year system (an archival document, an offline museum database, etc.; this also includes the references to the Topographical Bibliography to keep references to published and unpublished TopBib entries in one place) or the title of the online source referred to in `source_url` |
| `accessed_on` | DATE |  |   | The date when the online or offline source that cannot be cited using the author-year system was accessed |
| `object_id` | INT |  |   | The ID of the referred entity in any of the tables that can be referred to (`inscriptions`, `find_groups`, `workshops`, `persons_att`, `persons`, `titles`, `personal_names`, `name_types`) |
| `pages` | VARCHAR(255) |  |   | Pages, figures, plates, catalogue numbers, database ID where the entity is referred to in the source |
| `note` | VARCHAR(4000) |  |   | Note related to the reference (for example, mistakes in the publication) |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `biblio_refs_id` | PRIMARY |   |
| source_id_idx | `source_id` | INDEX |   |


